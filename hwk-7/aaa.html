<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <meta http-equiv="X-UA-Compatible" content="ie=edge">
    <title>Document</title>
</head>
<body>
<div id="root"></div>
<script>

    const root = document.getElementById('root');
    const state = {
        input: '',
        data: []
    };

    // Declarative paradigm
    const Button = () => `<button onclick="btnClick()">Save</button>`;
    const Input = (value) => `<input type="text" value="${value}" oninput="onTextInput(event)">`;
    const List = (data) => {
        const listItems = data.map((item) => ListItem(item));
        return `
        <ul>
          ${listItems.join('')}
        </ul>
      `;
    };

    const ListItem = (item) => `<li>${item}</li>`;

    function render(state, target) {
        target.innerHTML = `
        ${List(state.data)}
        ${Input(state.input)}
        ${Button()}
      `;
    }

    function btnClick() {
        state.data.push(state.input);
        state.input = '';
        render(state, root);
    }

    function onTextInput(event) {
        state.input = event.target.value;
    }

    fetch('https://jsonplaceholder.typicode.com/todos')
        .then((res) => res.json())
        .then((data) => {
            state.data = [...state.data, ...data.map((item) => item.title)];
            render(state, root);
        });

    render(state, root);
</script>
</body>
</html>